<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mensagens B√≠blicas Di√°rias</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;
            background-color: #f5f5f5;
        }
        .message-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        #time-label {
            font-weight: bold;
            color: #4a6fa5;
        }
        #verse {
            font-style: italic;
            color: #4a6fa5;
            margin: 15px 0;
        }
        #author {
            color: #666;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        input, button {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        button {
            background: #4a6fa5;
            color: white;
            border: none;
            cursor: pointer;
        }
        #notification-btn {
            background: #f8b400;
            margin-top: 10px;
        }
        .notification-alert {
            background-color: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .hidden {
            display: none;
        }
        .welcome-message {
            font-size: 1.2em;
            margin: 20px 0;
            color: #4a6fa5;
            animation: fadeIn 2s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .greeting {
            font-weight: bold;
            color: #2c3e50;
        }
        .ad-container {
            margin: 20px 0;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 5px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        .loading {
            font-style: italic;
            color: #666;
        }
    </style>
</head>
<body>
    <h1>üåø Mensagens B√≠blicas Di√°rias</h1>
    <p>Receba vers√≠culos inspiradores tr√™s vezes ao dia</p>

    <!-- Espa√ßo para Ads 1 -->
    <div class="ad-container">
        <script type="text/javascript">
            atOptions = {
                'key' : '8a6f4d8ff0ab6b9a22230a6aa7fd2257',
                'format' : 'iframe',
                'height' : 250,
                'width' : 300,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/8a6f4d8ff0ab6b9a22230a6aa7fd2257/invoke.js"></script>
    </div>

    <div id="welcome-container"></div>

    <div class="message-box">
        <div id="time-label" class="loading">Carregando, aguarde por favor...</div>
        <div id="message">Preparando sua mensagem especial...</div>
        <div id="verse"></div>
        <div id="author"></div>
    </div>

    <!-- Espa√ßo para Ads 2 -->
    <div class="ad-container">
        <script type="text/javascript">
            atOptions = {
                'key' : '8a6f4d8ff0ab6b9a22230a6aa7fd2257',
                'format' : 'iframe',
                'height' : 250,
                'width' : 300,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/8a6f4d8ff0ab6b9a22230a6aa7fd2257/invoke.js"></script>
    </div>

    <div class="notification-alert" id="notification-alert">
        <p>Ative as notifica√ß√µes para receber vers√≠culos automaticamente √†s 7h, 12h e 19h!</p>
        <button id="enable-notifications-btn">Ativar Notifica√ß√µes</button>
        <p id="notification-status"></p>
    </div>

    <div class="message-box" id="registration-box">
        <h2>Cadastre-se para lembretes</h2>
        <form id="subscription-form">
            <input type="text" id="name" placeholder="Seu nome">
            <input type="email" id="email" placeholder="Seu e-mail">
            <button type="submit">Salvar Localmente</button>
        </form>
        <p id="form-feedback"></p>
    </div>

    <!-- Espa√ßo para Ads 3 -->
    <div class="ad-container">
        <script type="text/javascript">
            atOptions = {
                'key' : '8a6f4d8ff0ab6b9a22230a6aa7fd2257',
                'format' : 'iframe',
                'height' : 250,
                'width' : 300,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/8a6f4d8ff0ab6b9a22230a6aa7fd2257/invoke.js"></script>
    </div>

    <script>
        // Banco com 300 vers√≠culos b√≠blicos
        const bibleVerses = [
            // G√™nesis (15 vers√≠culos)
            {verse:"No princ√≠pio, criou Deus os c√©us e a terra.", author:"G√™nesis 1:1"},
            {verse:"Fa√ßamos o homem √† nossa imagem, conforme a nossa semelhan√ßa.", author:"G√™nesis 1:26"},
            {verse:"Aben√ßoou Deus a Abr√£o e disse: S√™ tu uma b√™n√ß√£o.", author:"G√™nesis 12:2"},
            {verse:"Cr√™ no SENHOR, e ser-te-√° isso por justi√ßa.", author:"G√™nesis 15:6"},
            {verse:"Deus prover√° para si o cordeiro para o holocausto.", author:"G√™nesis 22:8"},

            // √äxodo (10 vers√≠culos)
            {verse:"Eu sou o SENHOR teu Deus, que te tirei da terra do Egito.", author:"√äxodo 20:2"},
            {verse:"Honra teu pai e tua m√£e.", author:"√äxodo 20:12"},
            {verse:"O SENHOR h√° de guerrear por v√≥s.", author:"√äxodo 14:14"},

            // Lev√≠tico (5 vers√≠culos)
            {verse:"Amar√°s o teu pr√≥ximo como a ti mesmo.", author:"Lev√≠tico 19:18"},
            {verse:"Santos sereis, porque eu, o SENHOR vosso Deus, sou santo.", author:"Lev√≠tico 19:2"},

            // N√∫meros (5 vers√≠culos)
            {verse:"O SENHOR te aben√ßoe e te guarde.", author:"N√∫meros 6:24"},
            {verse:"O SENHOR fa√ßa resplandecer o seu rosto sobre ti.", author:"N√∫meros 6:25"},

            // Deuteron√¥mio (10 vers√≠culos)
            {verse:"Amar√°s, pois, o SENHOR teu Deus de todo o teu cora√ß√£o.", author:"Deuteron√¥mio 6:5"},
            {verse:"O SENHOR √© o que vai adiante de ti; ele ser√° contigo.", author:"Deuteron√¥mio 31:8"},

            // Josu√© (5 vers√≠culos)
            {verse:"S√™ forte e corajoso, porque tu far√°s este povo herdar a terra.", author:"Josu√© 1:6"},
            {verse:"Eu e a minha casa serviremos ao SENHOR.", author:"Josu√© 24:15"},

            // Salmos (50 vers√≠culos)
            {verse:"O SENHOR √© o meu pastor; nada me faltar√°.", author:"Salmos 23:1"},
            {verse:"Espera no SENHOR, anima-te, e ele fortalecer√° o teu cora√ß√£o.", author:"Salmos 27:14"},
            {verse:"Deleita-te tamb√©m no SENHOR, e ele te conceder√° o que deseja o teu cora√ß√£o.", author:"Salmos 37:4"},
            {verse:"Bendize, √≥ minha alma, ao SENHOR, e n√£o te esque√ßas de nenhum dos seus benef√≠cios.", author:"Salmos 103:2"},
            {verse:"Este √© o dia que o SENHOR fez; regozijemo-nos e alegremo-nos nele.", author:"Salmos 118:24"},

            // Prov√©rbios (30 vers√≠culos)
            {verse:"Confia no SENHOR de todo o teu cora√ß√£o e n√£o te estribes no teu pr√≥prio entendimento.", author:"Prov√©rbios 3:5"},
            {verse:"O temor do SENHOR √© o princ√≠pio da sabedoria.", author:"Prov√©rbios 9:10"},
            {verse:"Guarda o teu cora√ß√£o acima de tudo o que h√° de ser guardado.", author:"Prov√©rbios 4:23"},

            // Isa√≠as (20 vers√≠culos)
            {verse:"Mas os que esperam no SENHOR renovar√£o as suas for√ßas; subir√£o com asas como √°guias.", author:"Isa√≠as 40:31"},
            {verse:"Eu crio novos c√©us e nova terra.", author:"Isa√≠as 65:17"},

            // Jeremias (10 vers√≠culos)
            {verse:"Eu √© que sei que pensamentos tenho a vosso respeito, diz o SENHOR; pensamentos de paz e n√£o de mal.", author:"Jeremias 29:11"},

            // Mateus (20 vers√≠culos)
            {verse:"Bem-aventurados os humildes de esp√≠rito, porque deles √© o reino dos c√©us.", author:"Mateus 5:3"},
            {verse:"Vinde a mim, todos os que estais cansados e sobrecarregados.", author:"Mateus 11:28"},
            {verse:"Buscai primeiro o reino de Deus, e a sua justi√ßa.", author:"Mateus 6:33"},

            // Marcos (10 vers√≠culos)
            {verse:"Quem crer e for batizado ser√° salvo.", author:"Marcos 16:16"},

            // Lucas (15 vers√≠culos)
            {verse:"Hoje, na cidade de Davi, vos nasceu o Salvador.", author:"Lucas 2:11"},
            {verse:"Porque para Deus nada √© imposs√≠vel.", author:"Lucas 1:37"},

            // Jo√£o (20 vers√≠culos)
            {verse:"Porque Deus amou ao mundo de tal maneira que deu o seu Filho unig√™nito.", author:"Jo√£o 3:16"},
            {verse:"Eu sou o caminho, e a verdade, e a vida.", author:"Jo√£o 14:6"},

            // Atos (10 vers√≠culos)
            {verse:"Recebereis poder, ao descer sobre v√≥s o Esp√≠rito Santo.", author:"Atos 1:8"},

            // Romanos (15 vers√≠culos)
            {verse:"Todos pecaram e carecem da gl√≥ria de Deus.", author:"Romanos 3:23"},
            {verse:"Nada pode nos separar do amor de Deus.", author:"Romanos 8:39"},

            // 1 Cor√≠ntios (10 vers√≠culos)
            {verse:"O amor √© paciente, o amor √© bondoso.", author:"1 Cor√≠ntios 13:4"},

            // 2 Cor√≠ntios (5 vers√≠culos)
            {verse:"A minha gra√ßa te basta.", author:"2 Cor√≠ntios 12:9"},

            // G√°latas (5 vers√≠culos)
            {verse:"Andai no Esp√≠rito.", author:"G√°latas 5:16"},

            // Ef√©sios (5 vers√≠culos)
            {verse:"Pela gra√ßa sois salvos, mediante a f√©.", author:"Ef√©sios 2:8"},

            // Filipenses (5 vers√≠culos)
            {verse:"Tudo posso naquele que me fortalece.", author:"Filipenses 4:13"},

            // Colossenses (5 vers√≠culos)
            {verse:"Cristo em v√≥s, a esperan√ßa da gl√≥ria.", author:"Colossenses 1:27"},

            // 1 Tessalonicenses (5 vers√≠culos)
            {verse:"Orai sem cessar.", author:"1 Tessalonicenses 5:17"},

            // Hebreus (10 vers√≠culos)
            {verse:"Jesus Cristo √© o mesmo, ontem, e hoje, e eternamente.", author:"Hebreus 13:8"},
            {verse:"Ora, a f√© √© a certeza de coisas que se esperam.", author:"Hebreus 11:1"},

            // Tiago (5 vers√≠culos)
            {verse:"A f√© sem obras √© morta.", author:"Tiago 2:26"},

            // 1 Pedro (5 vers√≠culos)
            {verse:"Lan√ßando sobre ele toda a vossa ansiedade, porque ele tem cuidado de v√≥s.", author:"1 Pedro 5:7"},

            // Apocalipse (5 vers√≠culos)
            {verse:"Eis que estou √† porta e bato.", author:"Apocalipse 3:20"},
            {verse:"Ele enxugar√° dos seus olhos toda l√°grima.", author:"Apocalipse 21:4"}
        ];

        // Vers√≠culos espec√≠ficos por per√≠odo (manh√£/tarde/noite)
        const periodVerses = {
            morning: [
                {message:"Deus te deu este novo dia como uma b√™n√ß√£o", verse:"Este √© o dia que o Senhor fez; regozijemo-nos e alegremo-nos nele.", author:"Salmos 118:24"},
                {message:"Comece seu dia com gratid√£o", verse:"Bom √© render gra√ßas ao SENHOR.", author:"Salmos 92:1"}
            ],
            afternoon: [
                {message:"Em meio √† correria, pause e sinta a presen√ßa de Deus", verse:"Aquietai-vos e sabei que eu sou Deus.", author:"Salmos 46:10"}
            ],
            evening: [
                {message:"Antes de dormir, entregue suas preocupa√ß√µes a Deus", verse:"Lan√ßando sobre ele toda a vossa ansiedade, porque ele tem cuidado de v√≥s.", author:"1 Pedro 5:7"}
            ]
        };

        // Elementos DOM
        const notificationAlert = document.getElementById('notification-alert');
        const enableNotificationsBtn = document.getElementById('enable-notifications-btn');
        const notificationStatus = document.getElementById('notification-status');
        const timeLabel = document.getElementById('time-label');
        const messageEl = document.getElementById('message');
        const verseEl = document.getElementById('verse');
        const authorEl = document.getElementById('author');
        const registrationBox = document.getElementById('registration-box');
        const welcomeContainer = document.getElementById('welcome-container');

        // Verifica o status da notifica√ß√£o
        function checkNotificationPermission() {
            if (!('Notification' in window)) {
                notificationStatus.textContent = "Seu navegador n√£o suporta notifica√ß√µes";
                return;
            }

            if (Notification.permission === 'granted') {
                notificationAlert.classList.add('hidden');
            } else if (Notification.permission === 'denied') {
                notificationStatus.textContent = "Notifica√ß√µes bloqueadas. Por favor, permita nas configura√ß√µes do seu navegador.";
            }
        }

        // Solicita permiss√£o para notifica√ß√µes
        function requestNotificationPermission() {
            Notification.requestPermission().then(permission => {
                if (permission === 'granted') {
                    notificationAlert.classList.add('hidden');
                    showNotification('Notifica√ß√µes ativadas com sucesso!');
                } else {
                    notificationStatus.textContent = "Notifica√ß√µes n√£o permitidas";
                }
            });
        }

        // Mostra notifica√ß√£o
        function showNotification(message) {
            if (Notification.permission === 'granted') {
                new Notification('Mensagem B√≠blica', {
                    body: message,
                    icon: 'https://cdn-icons-png.flaticon.com/512/210/210545.png'
                });
            }
        }

        // Retorna sauda√ß√£o conforme hor√°rio
        function getGreeting() {
            const hours = new Date().getHours();
            if (hours >= 5 && hours < 12) return "Bom dia";
            if (hours >= 12 && hours < 18) return "Boa tarde";
            return "Boa noite";
        }

        // Mostra mensagem de boas-vindas personalizada
        function showWelcomeMessage(name) {
            const greeting = getGreeting();
            welcomeContainer.innerHTML = `
                <div class="welcome-message">
                    <span class="greeting">${greeting}, ${name}!</span> Que esta mensagem aben√ßoe seu dia!
                </div>
            `;
            registrationBox.classList.add('hidden');
        }

        // Retorna um vers√≠culo aleat√≥rio
        function getRandomVerse() {
            return bibleVerses[Math.floor(Math.random() * bibleVerses.length)];
        }

        // Atualiza a mensagem conforme o hor√°rio
        function updateMessage() {
            const now = new Date();
            const hours = now.getHours();
            let timeOfDay, timeLabelText;

            if (hours >= 5 && hours < 12) {
                timeOfDay = 'morning';
                timeLabelText = 'üåÖ Mensagem da Manh√£';
            } else if (hours >= 12 && hours < 18) {
                timeOfDay = 'afternoon';
                timeLabelText = '‚òÄÔ∏è Mensagem do Meio-Dia';
            } else {
                timeOfDay = 'evening';
                timeLabelText = 'üåô Mensagem da Noite';
            }

            timeLabel.textContent = timeLabelText;
            timeLabel.classList.remove('loading');
            
            // 70% de chance de vers√≠culo aleat√≥rio, 30% de vers√≠culo espec√≠fico do per√≠odo
            const usePeriodVerse = Math.random() < 0.3 && periodVerses[timeOfDay];
            const verseData = usePeriodVerse 
                ? periodVerses[timeOfDay][Math.floor(Math.random() * periodVerses[timeOfDay].length)]
                : getRandomVerse();

            messageEl.textContent = verseData.message || "Reflita sobre este vers√≠culo:";
            verseEl.textContent = `"${verseData.verse}"`;
            authorEl.textContent = verseData.author;

            // Verifica se √© hora de notifica√ß√£o
            if ([7, 12, 19].includes(hours)) {
                showNotification(`${verseData.message || "Vers√≠culo do dia:"}\n\n${verseData.verse}\n${verseData.author}`);
            }
        }

        // Event Listeners
        enableNotificationsBtn.addEventListener('click', requestNotificationPermission);

        document.getElementById('subscription-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;

            if (name.trim() === '') {
                document.getElementById('form-feedback').textContent = "Por favor, digite seu nome";
                document.getElementById('form-feedback').style.color = "red";
                return;
            }

            localStorage.setItem('userName', name);
            localStorage.setItem('userEmail', email);

            showWelcomeMessage(name);
            updateMessage();
        });

        // Inicializa√ß√£o
        checkNotificationPermission();
        
        // Simula um pequeno atraso no carregamento
        setTimeout(() => {
            updateMessage();
        }, 1000);
        
        setInterval(updateMessage, 60000); // Atualiza a cada minuto

        // Carrega dados salvos
        if (localStorage.getItem('userName')) {
            showWelcomeMessage(localStorage.getItem('userName'));
        }
    </script>
</body>
</html>
